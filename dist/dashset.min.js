/*! dashset 0.3.0 | MIT (https://spdx.org/licenses/MIT) */
(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=7)})([function(a){var b;a.exports=b=class{constructor(){this.width=0,this.height=0,this.lineHeight=0,this.context=null}typeset(){return this.width=0,this.height=0,this.lineHeight=0}}},function(a){var b,c;b=null,'undefined'!=typeof document&&(b=document.createElement('canvas').getContext('2d')),c=null,a.exports=function(a,d){return c?c(a,d):b?(b.font=d.toString(),b.measureText(a).width):a.length},a.exports.setCustomMeasurer=function(a){return c=a},a.exports.getCustomMeasurer=function(){return c}},function(a){var b;a.exports=b=class{constructor(){this.style='normal',this.variant='normal',this.weight=400,this.stretch='normal',this.size=16,this.family='serif'}toString(){return`${this.style} ${this.variant} ${this.weight} ${this.stretch} ${this.size}px ${this.family}`}}},function(a,b,c){var d,e,f={}.hasOwnProperty;e=c(0),a.exports=d=class extends e{constructor(a,b){var c,d,e,f;super(),null!=a&&(this.context=a),this.src=null==(c=null==b?void 0:b.src)?'':c,this.imageWidth=null==(d=null==b?void 0:b.width)?0:d,this.imageHeight=null==(e=null==b?void 0:b.height)?0:e,this.style=null==(f=null==b?void 0:b.style)?0:f,this.type='image'}copyFrom(a){var b,c,d;for(d in c=[],a)f.call(a,d)&&(b=a[d],c.push(this[b]=d));return c}typeset(){switch(this.style){case 0:case 1:this.width=this.imageWidth,this.height=this.imageHeight,this.width>this.context.width&&(this.height*=this.context.width/this.width,this.width=this.context.width),this.height>this.context.height&&(this.width*=this.context.height/this.height,this.height=this.context.height);break;case 2:this.height=this.context.fontSize,this.width=this.imageWidth*(this.context.fontSize/this.imageHeight);}return this.lineHeight=this.context.fontSize}}},function(a){var b,c=[].indexOf;a.exports=b=class{constructor(a){this.context=a,this.width=0,this.height=0,this.content=[],this.source=null,this.lastInParagraph=!1,this.margin=!1,this.type='line',Object.defineProperty(this,'length',{get:function(){return this.content.length}})}update(){var a;return this.width=function(){var b,c,d,e;for(d=this.content,e=[],(b=0,c=d.length);b<c;b++)a=d[b],e.push(a.width);return e}.call(this).reduce(function(c,a){return c+a},0),this.height=Math.max(...function(){var b,c,d,e;for(d=this.content,e=[],(b=0,c=d.length);b<c;b++)a=d[b],e.push(a.height+a.lineHeight*(this.context.lineHeight-1));return e}.call(this))}append(a){return 0<=c.call(this.content,a)||this.content.push(a),this.update()}}},function(a,b,c){var d,e,f,g={}.hasOwnProperty;f=c(0),d=c(2),a.exports=e=class extends f{constructor(a,b){var c,d,e,f,g,h,i,j,k,l;super(),null!=a&&(this.context=a),this.bold=null!=(c=null==b?void 0:b.bold)&&c,this.italic=null!=(d=null==b?void 0:b.italic)&&d,this.size=null==(e=null==b?void 0:b.size)?1:e,this.code=null!=(f=null==b?void 0:b.code)&&f,this.smallcaps=null!=(g=null==b?void 0:b.smallcaps)&&g,this.sup=null==(h=null==b?void 0:b.sup)?[]:h,this.content=null==(i=null==b?void 0:b.content)?'':i,this.data={},this.hyphen=null!=(j=null==b?void 0:b.hyphen)&&j,this.hyphenEnabled=null!=(k=null==b?void 0:b.hyphenEnabled)&&k,this.exceptStart=null!=(l=null==b?void 0:b.exceptStart)&&l,this.type='text'}copyFrom(a){var b,c,d;for(d in c=[],a)g.call(a,d)&&(b=a[d],c.push(this[b]=prop));return c}getFont(){var a;return a=new d,this.bold&&(a.weight=this.context.boldWeight),this.italic&&(a.style='italic'),this.code?(a.size=this.size*this.context.codeFontSize,a.family=this.context.codeFontFamily):(a.size=this.size*this.context.fontSize,a.family=this.context.fontFamily),this.smallcaps&&(a.variant='small-caps'),a}typeset(){var a,b;return a=this.content,this.hyphenEnabled&&(a+='-'),b=this.getFont(),this.width=this.context.measureText(a,b),this.height=this.lineHeight=b.size}}},function(a){var b;a.exports=b=class{constructor(a,b){this.width=a,this.height=b,this.lineHeight=b,this.type='spacer'}}},function(a,b,c){a.exports={Context:c(8),Font:c(2),ImageNode:c(3),Line:c(4),measureText:c(1),ParagraphNode:c(9),Spacer:c(6),TextNode:c(5),Typesettable:c(0)},document&&window&&(window.dashset=a.exports)},function(a,b,c){var d,e;e=c(1),a.exports=d=class{constructor(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;a||(a={}),this.width=null==(b=a.width)?400:b,this.height=null==(c=a.height)?400:c,this.fontSize=null==(n=a.fontSize)?13:n,this.lineHeight=null==(q=a.lineHeight)?1.5:q,this.indentWidth=null==(r=a.indentWidth)?16:r,this.doubleHeight=null==(s=a.doubleHeight)?1:s,this.boldWeight=null==(t=a.boldWeight)?600:t,this.fontFamily=null==(u=a.fontFamily)?'Baskerville, serif':u,this.codeFontSize=null==(v=a.codeFontSize)?12:v,this.codeFontFamily=null==(w=a.codeFontFamily)?'Inconsolata, monospace':w,this.quotePadding={top:null==(d=null==(e=a.quotePadding)?void 0:e.top)?10:d,left:null==(f=null==(g=a.quotePadding)?void 0:g.left)?10:f,right:null==(h=null==(i=a.quotePadding)?void 0:i.right)?10:h,bottom:null==(j=null==(k=a.quotePadding)?void 0:k.bottom)?10:j},this.quoteMargin={top:null==(l=null==(m=a.quoteMargin)?void 0:m.top)?10:l,bottom:null==(o=null==(p=a.quoteMargin)?void 0:p.bottom)?10:o}}measureText(...a){return e(...a)}}},function(a,b,c){var d,e,f,g,h,i,j={}.hasOwnProperty,k=[].indexOf;i=c(0),e=c(4),h=c(5),d=c(3),g=c(6),a.exports=f=class extends i{constructor(a,b){var c,d,e,f,g,h,i,j,k,l;super(),null!=a&&(this.context=a),this.indent=null!=(c=null==b?void 0:b.indent)&&c,this.double=null!=(d=null==b?void 0:b.double)&&d,this.quote=null!=(e=null==b?void 0:b.quote)&&e,this.separator=null!=(f=null==b?void 0:b.separator)&&f,this.join=null!=(g=null==b?void 0:b.join)&&g,this.joinNext=null!=(h=null==b?void 0:b.joinNext)&&h,this.align=null==(i=null==b?void 0:b.align)?0:i,this.list=null==(j=null==b?void 0:b.list)?0:j,this.header=null==(k=null==b?void 0:b.header)?0:k,this.split=null!=(l=null==b?void 0:b.split)&&l,this.content=[],this.lines=[]}copyFrom(a){var b,c,d;for(d in c=[],a)j.call(a,d)&&(b=a[d],c.push(this[b]=d));return c}append(a){if(!(0<=k.call(this.content,a)))return this.content.push(a)}typeset(){var a,b,c,f,i,j,k,l,m,n,o;for(f=new e(this.context),f.source=this,i=[f],o=this.context.width,this.quote&&!this.join&&(f.append(new g(0,this.context.quoteMargin.top)),f.margin=!0,f=new e(this.context),f.source=this,i.push(f),f.append(new g(0,this.context.quotePadding.top)),f=new e(this.context),f.source=this,i.push(f)),this.double&&(a=this.context.doubleHeight*this.context.fontSize,f.append(new g(0,a)),f=new e(this.context),f.source=this,i.push(f)),this.indent&&f.append(new g(this.context.indentWidth,this.context.fontSize)),this.quote&&(o-=this.context.quotePadding.left+this.context.quotePadding.right,f.append(new g(this.context.quotePadding.left,0))),j=()=>{if(this.quote&&f.append(new g(this.context.quotePadding.right,0)),f=new e(this.context),f.source=this,i.push(f),this.quote)return f.append(new g(this.context.quotePadding.left,0))},l=null,m=this.content,(b=0,c=m.length);b<c;b++)k=m[b],k instanceof h&&(k.hyphenEnabled=!1),k.typeset(),k instanceof d?1===k.style?(0!==f.length&&j(),n=(this.context.width-k.width)/2,f.append(new g(n,k.height)),f.append(k),f.append(new g(n,k.height))):(f.width+k.width>this.context.width&&j(),f.append(k)):k instanceof h&&('\n'===k.content?j():(f.width+k.width>this.context.width&&(l&&l.hyphen&&(l.hyphenEnabled=!0,l.typeset(),f.update()),j()),(0!==f.length||!k.exceptStart)&&f.append(k))),l=k;return f.lastInParagraph=!0,this.quote&&!this.joinNext&&(f=new e(this.context),f.source=this,i.push(f),f.append(new g(0,this.context.quotePadding.bottom)),f=new e(this.context),f.source=this,i.push(f),f.append(new g(0,this.context.quoteMargin.bottom)),f.margin=!0),this.lines=i}}}]);
//# sourceMappingURL=dashset.min.js.map