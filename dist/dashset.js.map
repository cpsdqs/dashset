{"version":3,"sources":["webpack:///webpack/bootstrap b988f1408ea8d00784b5","webpack:///./src/typesettable.coffee","webpack:///./src/measure-text.coffee","webpack:///./src/font.coffee","webpack:///./src/image-node.coffee","webpack:///./src/line.coffee","webpack:///./src/text-node.coffee","webpack:///./src/spacer.coffee","webpack:///./src/index.coffee","webpack:///./src/context.coffee","webpack:///./src/paragraph-node.coffee"],"names":[],"mappings":"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","file":"dashset.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b988f1408ea8d00784b5","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nmodule.exports =\nclass Typesettable\n  constructor: ->\n    @width = 0\n    @height = 0\n    @context = null\n\n  typeset: ->\n    @width = 0\n    @height = 0\n\n\n\n// WEBPACK FOOTER //\n// ./src/typesettable.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nctx = null\n\nif typeof document isnt 'undefined'\n  ctx = document.createElement('canvas').getContext '2d'\n\nmodule.exports = (text, font) ->\n  return text.length if not ctx\n  ctx.font = font.toString()\n  return ctx.measureText(text).width\n\n\n\n// WEBPACK FOOTER //\n// ./src/measure-text.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nmodule.exports =\nclass Font\n  constructor: ->\n    @style = 'normal'\n    @variant = 'normal'\n    @weight = 400\n    @stretch = 'normal'\n    @size = 16\n    @family = 'serif'\n\n  toString: ->\n    \"#{@style} #{@variant} #{@weight} #{@stretch} #{@size}px #{@family}\"\n\n\n\n// WEBPACK FOOTER //\n// ./src/font.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nTypesettable = require './typesettable'\n\nmodule.exports =\nclass ImageNode extends Typesettable\n  constructor: (context, properties) ->\n    super()\n\n    @context = context if context?\n    @src = properties?.src ? ''\n    @imageWidth = properties?.width ? 0\n    @imageHeight = properties?.height ? 0\n    @style = properties?.style ? 0\n\n    @type = 'image'\n\n  copyFrom: (imageNode) ->\n    for own value, key of imageNode\n      @[key] = value\n\n  typeset: ->\n    switch @style\n      when 0 or 1\n        @width = @imageWidth\n        @height = @imageHeight\n\n        if @width > @context.width\n          @height *= @context.width / @width\n          @width = @context.width\n\n        if @height > @context.height\n          @width *= @context.height / @height\n          @height = @context.height\n      when 2\n        @height = @context.fontSize\n        @width = @imageWidth * (@context.fontSize / @imageHeight)\n\n\n\n// WEBPACK FOOTER //\n// ./src/image-node.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nmodule.exports =\nclass Line\n  constructor: (context) ->\n    @context = context\n    @width = 0\n    @height = 0\n    @content = []\n    @source = null\n    @lastInParagraph = no\n\n    @type = 'line'\n\n    Object.defineProperty this, 'length',\n      get: -> @content.length\n\n  update: ->\n    @width = (node.width for node in @content).reduce ((a, b) -> a + b), 0\n    @height = Math.max (node.height for node in @content)...\n    @height *= @context.lineHeight\n\n  append: (child) ->\n    @content.push child if not (child in @content)\n    @update()\n\n\n\n// WEBPACK FOOTER //\n// ./src/line.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nTypesettable = require './typesettable'\nFont = require './font'\n\nmodule.exports =\nclass TextNode extends Typesettable\n  constructor: (context, properties) ->\n    super()\n\n    @context = context if context?\n    @bold = properties?.bold ? false\n    @italic = properties?.italic ? false\n    @underline = properties?.underline ? false\n    @strike = properties?.strike ? false\n    @size = properties?.size ? 1\n    @color = properties?.color ? [0, 0, 0, 0xff]\n    @href = properties?.href ? ''\n    @code = properties?.code ? false\n    @smallcaps = properties?.smallcaps ? false\n    @spoiler = properties?.spoiler ? false\n    @sup = properties?.sup ? []\n    @content = properties?.content ? ''\n\n    # formatting metadata\n    @hyphen = properties?.hyphen ? no\n    @hyphenEnabled = properties?.hyphenEnabled ? no\n    @exceptStart = properties?.exceptStart ? no\n\n    @type = 'text'\n\n  copyFrom: (textNode) ->\n    for own value, key of textNode\n      @[key] = prop\n\n  getFont: ->\n    font = new Font\n    font.weight = @context.boldWeight if @bold\n    font.style = 'italic' if @italic\n    if not @code\n      font.size = @size * @context.fontSize\n      font.family = @context.fontFamily\n    else\n      font.size = @size * @context.codeFontSize\n      font.family = @context.codeFontFamily\n    font.variant = 'small-caps' if @smallcaps\n\n    font\n\n  typeset: ->\n    content = @content\n    content += '-' if @hyphenEnabled\n\n    font = @getFont()\n    @width = @context.measureText content, font\n    @height = font.size\n\n\n\n// WEBPACK FOOTER //\n// ./src/text-node.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nmodule.exports =\nclass Spacer\n  constructor: (width, height) ->\n    @width = width\n    @height = height\n\n    @type = 'spacer'\n\n\n\n// WEBPACK FOOTER //\n// ./src/spacer.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nmodule.exports =\n  Context: require './context'\n  Font: require './font'\n  ImageNode: require './image-node'\n  Line: require './line'\n  measureText: require './measure-text'\n  ParagraphNode: require './paragraph-node'\n  Spacer: require './spacer'\n  TextNode: require './text-node'\n  Typesettable: require './typesettable'\n\nwindow.dashset = module.exports if document and window\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nmeasureText = require './measure-text'\n\nmodule.exports =\nclass Context\n  constructor: (options) ->\n    options = {} if not options\n\n    @width = options.width ? 400\n    @height = options.height ? 400\n    @fontSize = options.fontSize ? 13\n    @lineHeight = options.lineHeight ? 1.5\n    @indentWidth = options.indentWidth ? 16\n    @doubleHeight = options.doubleHeight ? 1\n    @boldWeight = options.boldWeight ? 600\n    @fontFamily = options.fontFamily ? 'Baskerville, serif'\n    @codeFontSize = options.codeFontSize ? 12\n    @codeFontFamily = options.codeFontFamily ? 'Inconsolata, monospace'\n    @quotePadding =\n      top: options.quotePadding?.top ? 10\n      left: options.quotePadding?.left ? 10\n      right: options.quotePadding?.right ? 10\n      bottom: options.quotePadding?.bottom ? 10\n\n  measureText: (args...) ->\n    measureText(args...)\n\n\n\n// WEBPACK FOOTER //\n// ./src/context.coffee","# Copyright (C) 2017 cpsdqs\n#\n# This file is part of Dashset.\n#\n# Dashset is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# Dashset is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with Dashset. If not, see <http://www.gnu.org/licenses/>.\n\nTypesettable = require './typesettable'\nLine = require './line'\nTextNode = require './text-node'\nImageNode = require './image-node'\nSpacer = require './spacer'\n\nmodule.exports =\nclass ParagraphNode extends Typesettable\n  constructor: (context, properties) ->\n    super()\n\n    @context = context if context?\n    @indent = properties?.indent ? false\n    @double = properties?.double ? false\n    @quote = properties?.quote ? false\n    @separator = properties?.separator ? false\n    @join = properties?.join ? false\n    @joinNext = properties?.joinNext ? false\n    @align = properties?.align ? 0\n    @list = properties?.list ? 0\n    @header = properties?.header ? 0\n    @split = properties?.split ? false\n    @content = []\n    @lines = []\n\n  copyFrom: (paragraphNode) ->\n    for own value, key of paragraphNode\n      @[key] = value\n\n  append: (child) ->\n    @content.push child if not (child in @content)\n\n  typeset: ->\n    line = new Line @context\n    line.source = this\n    lines = [line]\n\n    width = @context.width\n\n    if @quote and not @join\n      width -= @context.quotePadding.left + @context.quotePadding.right\n      line.append new Spacer 0, @context.quotePadding.top\n      line = new Line @context\n      line.source = this\n      lines.push line\n\n    if @double\n      doubleHeight = @context.doubleHeight * @context.fontSize\n      line.append new Spacer 0, doubleHeight\n      line = new Line @context\n      line.source = this\n      lines.push line\n\n    if @indent\n      line.append new Spacer @context.indentWidth, @context.fontSize\n\n    newLine = =>\n      line = new Line @context\n      line.source = this\n      lines.push line\n\n    previousNode = null\n    for node in @content\n      node.typeset()\n\n      if node instanceof ImageNode\n        if node.style is 1\n          # block style\n          if line.length isnt 0\n            newLine()\n          space = (@context.width - node.width) / 2\n          line.append new Spacer space, node.height\n          line.append node\n          line.append new Spacer space, node.height\n        else\n          if line.width + node.width > @context.width\n            newLine()\n          line.append node\n      else if node instanceof TextNode\n        node.hyphenEnabled = no\n        if node.content is '\\n'\n          newLine()\n        else\n          if line.width + node.width > @context.width\n            if previousNode and previousNode.hyphen\n              previousNode.hyphenEnabled = yes\n\n              # typeset again with hyphen\n              # while this will increase the line width, it's probably\n              # negligible and can be compensated for by shrinking whitespace\n              # in the worst case\n              previousNode.typeset()\n              line.update()\n\n            newLine()\n          if line.length isnt 0 or not node.exceptStart\n            line.append node\n\n      previousNode = node\n\n    line.lastInParagraph = yes\n\n    if @quote and not @joinNext\n      line = new Line @context\n      line.source = this\n      lines.push line\n      line.append new Spacer 0, @context.quotePadding.bottom\n\n    @lines = lines\n\n\n\n// WEBPACK FOOTER //\n// ./src/paragraph-node.coffee"],"sourceRoot":""}